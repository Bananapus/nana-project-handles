{"abi":[{"type":"error","name":"InvalidShortString","inputs":[]},{"type":"error","name":"StringTooLong","inputs":[{"name":"str","type":"string","internalType":"string"}]}],"bytecode":{"object":"0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220cccf28ba98d23fe714b17f4368b331c784975e8baeeaa0ed453723339590678c64736f6c63430008170033","sourceMap":"1255:3053:50:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;1255:3053:50;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220cccf28ba98d23fe714b17f4368b331c784975e8baeeaa0ed453723339590678c64736f6c63430008170033","sourceMap":"1255:3053:50:-:0;;;;;;;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"InvalidShortString\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"str\",\"type\":\"string\"}],\"name\":\"StringTooLong\",\"type\":\"error\"}],\"devdoc\":{\"details\":\"This library provides functions to convert short memory strings into a `ShortString` type that can be used as an immutable variable. Strings of arbitrary length can be optimized using this library if they are short enough (up to 31 bytes) by packing them with their length (1 byte) in a single EVM word (32 bytes). Additionally, a fallback mechanism can be used for every other case. Usage example: ```solidity contract Named {     using ShortStrings for *;     ShortString private immutable _name;     string private _nameFallback;     constructor(string memory contractName) {         _name = contractName.toShortStringWithFallback(_nameFallback);     }     function name() external view returns (string memory) {         return _name.toStringWithFallback(_nameFallback);     } } ```\",\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"lib/openzeppelin-contracts/contracts/utils/ShortStrings.sol\":\"ShortStrings\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":100000000},\"remappings\":[\":@chainlink/contracts/=lib/juice-contracts-v4/lib/chainlink/contracts/\",\":@contracts/=lib/juice-contracts-v4/src/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@paulrberg/contracts/math/=lib/juice-contracts-v4/lib/prb-math/src/\",\":@permit2/=lib/juice-contracts-v4/lib/permit2/\",\":@prb/test/=lib/juice-contracts-v4/lib/prb-math/node_modules/@prb/test/\",\":chainlink/=lib/juice-contracts-v4/lib/chainlink/contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":ens-contracts/=lib/ens-contracts/contracts/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-gas-snapshot/=lib/juice-contracts-v4/lib/permit2/lib/forge-gas-snapshot/src/\",\":forge-std/=lib/forge-std/src/\",\":juice-contracts-v4/=lib/juice-contracts-v4/\",\":lib/openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin-contracts/contracts/=lib/juice-contracts-v4/lib/permit2/lib/openzeppelin-contracts/contracts/\",\":permit2/=lib/juice-contracts-v4/lib/permit2/\",\":prb-math/=lib/juice-contracts-v4/lib/prb-math/src/\",\":solmate/=lib/juice-contracts-v4/lib/permit2/lib/solmate/\"]},\"sources\":{\"lib/openzeppelin-contracts/contracts/utils/ShortStrings.sol\":{\"keccak256\":\"0x18a7171df639a934592915a520ecb97c5bbc9675a1105607aac8a94e72bf62c6\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://7478e1f13da69a2867ccd883001d836b75620362e743f196376d63ed0c422a1c\",\"dweb:/ipfs/QmWywcQ9TNfwtoqAxbn25d8C5VrV12PrPS9UjtGe6pL2BA\"]},\"lib/openzeppelin-contracts/contracts/utils/StorageSlot.sol\":{\"keccak256\":\"0x70d9a9cf8d5cc830d7396505ef8eb9686bd0c60a29c6644bd6cc278f9bab8ebe\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://719abb402c11be12355088da587ffd971fee1b035b5aa6b1ba3b1a9493d3c1d7\",\"dweb:/ipfs/QmanHMFVDqVtZAFFaH1CeGQWoHWsFnWHH75fCrguwi77Hq\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"InvalidShortString"},{"inputs":[{"internalType":"string","name":"str","type":"string"}],"type":"error","name":"StringTooLong"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@chainlink/contracts/=lib/juice-contracts-v4/lib/chainlink/contracts/","@contracts/=lib/juice-contracts-v4/src/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@paulrberg/contracts/math/=lib/juice-contracts-v4/lib/prb-math/src/","@permit2/=lib/juice-contracts-v4/lib/permit2/","@prb/test/=lib/juice-contracts-v4/lib/prb-math/node_modules/@prb/test/","chainlink/=lib/juice-contracts-v4/lib/chainlink/contracts/","ds-test/=lib/forge-std/lib/ds-test/src/","ens-contracts/=lib/ens-contracts/contracts/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-gas-snapshot/=lib/juice-contracts-v4/lib/permit2/lib/forge-gas-snapshot/src/","forge-std/=lib/forge-std/src/","juice-contracts-v4/=lib/juice-contracts-v4/","lib/openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin-contracts/contracts/=lib/juice-contracts-v4/lib/permit2/lib/openzeppelin-contracts/contracts/","permit2/=lib/juice-contracts-v4/lib/permit2/","prb-math/=lib/juice-contracts-v4/lib/prb-math/src/","solmate/=lib/juice-contracts-v4/lib/permit2/lib/solmate/"],"optimizer":{"enabled":true,"runs":100000000},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"lib/openzeppelin-contracts/contracts/utils/ShortStrings.sol":"ShortStrings"},"evmVersion":"paris","libraries":{}},"sources":{"lib/openzeppelin-contracts/contracts/utils/ShortStrings.sol":{"keccak256":"0x18a7171df639a934592915a520ecb97c5bbc9675a1105607aac8a94e72bf62c6","urls":["bzz-raw://7478e1f13da69a2867ccd883001d836b75620362e743f196376d63ed0c422a1c","dweb:/ipfs/QmWywcQ9TNfwtoqAxbn25d8C5VrV12PrPS9UjtGe6pL2BA"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/StorageSlot.sol":{"keccak256":"0x70d9a9cf8d5cc830d7396505ef8eb9686bd0c60a29c6644bd6cc278f9bab8ebe","urls":["bzz-raw://719abb402c11be12355088da587ffd971fee1b035b5aa6b1ba3b1a9493d3c1d7","dweb:/ipfs/QmanHMFVDqVtZAFFaH1CeGQWoHWsFnWHH75fCrguwi77Hq"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"lib/openzeppelin-contracts/contracts/utils/ShortStrings.sol","id":48677,"exportedSymbols":{"ShortString":[48465],"ShortStrings":[48676],"StorageSlot":[48786]},"nodeType":"SourceUnit","src":"106:4203:50","nodes":[{"id":48461,"nodeType":"PragmaDirective","src":"106:24:50","nodes":[],"literals":["solidity","^","0.8",".20"]},{"id":48463,"nodeType":"ImportDirective","src":"132:46:50","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/utils/StorageSlot.sol","file":"./StorageSlot.sol","nameLocation":"-1:-1:-1","scope":48677,"sourceUnit":48787,"symbolAliases":[{"foreign":{"id":48462,"name":"StorageSlot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48786,"src":"140:11:50","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":48465,"nodeType":"UserDefinedValueTypeDefinition","src":"348:28:50","nodes":[],"canonicalName":"ShortString","name":"ShortString","nameLocation":"353:11:50","underlyingType":{"id":48464,"name":"bytes32","nodeType":"ElementaryTypeName","src":"368:7:50","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}},{"id":48676,"nodeType":"ContractDefinition","src":"1255:3053:50","nodes":[{"id":48469,"nodeType":"VariableDeclaration","src":"1345:111:50","nodes":[],"constant":true,"mutability":"constant","name":"FALLBACK_SENTINEL","nameLocation":"1370:17:50","scope":48676,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":48467,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1345:7:50","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"hexValue":"307830303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030304646","id":48468,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1390:66:50","typeDescriptions":{"typeIdentifier":"t_rational_255_by_1","typeString":"int_const 255"},"value":"0x00000000000000000000000000000000000000000000000000000000000000FF"},"visibility":"private"},{"id":48473,"nodeType":"ErrorDefinition","src":"1463:32:50","nodes":[],"errorSelector":"305a27a9","name":"StringTooLong","nameLocation":"1469:13:50","parameters":{"id":48472,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48471,"mutability":"mutable","name":"str","nameLocation":"1490:3:50","nodeType":"VariableDeclaration","scope":48473,"src":"1483:10:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":48470,"name":"string","nodeType":"ElementaryTypeName","src":"1483:6:50","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"1482:12:50"}},{"id":48475,"nodeType":"ErrorDefinition","src":"1500:27:50","nodes":[],"errorSelector":"b3512b0c","name":"InvalidShortString","nameLocation":"1506:18:50","parameters":{"id":48474,"nodeType":"ParameterList","parameters":[],"src":"1524:2:50"}},{"id":48519,"nodeType":"FunctionDefinition","src":"1708:286:50","nodes":[],"body":{"id":48518,"nodeType":"Block","src":"1786:208:50","nodes":[],"statements":[{"assignments":[48485],"declarations":[{"constant":false,"id":48485,"mutability":"mutable","name":"bstr","nameLocation":"1809:4:50","nodeType":"VariableDeclaration","scope":48518,"src":"1796:17:50","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":48484,"name":"bytes","nodeType":"ElementaryTypeName","src":"1796:5:50","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":48490,"initialValue":{"arguments":[{"id":48488,"name":"str","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48478,"src":"1822:3:50","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":48487,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1816:5:50","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":48486,"name":"bytes","nodeType":"ElementaryTypeName","src":"1816:5:50","typeDescriptions":{}}},"id":48489,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1816:10:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"1796:30:50"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48494,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":48491,"name":"bstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48485,"src":"1840:4:50","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":48492,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1845:6:50","memberName":"length","nodeType":"MemberAccess","src":"1840:11:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"3331","id":48493,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1854:2:50","typeDescriptions":{"typeIdentifier":"t_rational_31_by_1","typeString":"int_const 31"},"value":"31"},"src":"1840:16:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48500,"nodeType":"IfStatement","src":"1836:72:50","trueBody":{"id":48499,"nodeType":"Block","src":"1858:50:50","statements":[{"errorCall":{"arguments":[{"id":48496,"name":"str","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48478,"src":"1893:3:50","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":48495,"name":"StringTooLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48473,"src":"1879:13:50","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":48497,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1879:18:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48498,"nodeType":"RevertStatement","src":"1872:25:50"}]}},{"expression":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48514,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":48509,"name":"bstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48485,"src":"1965:4:50","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":48508,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1957:7:50","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":48507,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1957:7:50","typeDescriptions":{}}},"id":48510,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1957:13:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":48506,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1949:7:50","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":48505,"name":"uint256","nodeType":"ElementaryTypeName","src":"1949:7:50","typeDescriptions":{}}},"id":48511,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1949:22:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"|","rightExpression":{"expression":{"id":48512,"name":"bstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48485,"src":"1974:4:50","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":48513,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1979:6:50","memberName":"length","nodeType":"MemberAccess","src":"1974:11:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1949:36:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48504,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1941:7:50","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":48503,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1941:7:50","typeDescriptions":{}}},"id":48515,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1941:45:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":48501,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48465,"src":"1924:11:50","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$48465_$","typeString":"type(ShortString)"}},"id":48502,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1936:4:50","memberName":"wrap","nodeType":"MemberAccess","src":"1924:16:50","typeDescriptions":{"typeIdentifier":"t_function_wrap_pure$_t_bytes32_$returns$_t_userDefinedValueType$_ShortString_$48465_$","typeString":"function (bytes32) pure returns (ShortString)"}},"id":48516,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1924:63:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"}},"functionReturnParameters":48483,"id":48517,"nodeType":"Return","src":"1917:70:50"}]},"documentation":{"id":48476,"nodeType":"StructuredDocumentation","src":"1533:170:50","text":" @dev Encode a string of at most 31 chars into a `ShortString`.\n This will trigger a `StringTooLong` error is the input string is too long."},"implemented":true,"kind":"function","modifiers":[],"name":"toShortString","nameLocation":"1717:13:50","parameters":{"id":48479,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48478,"mutability":"mutable","name":"str","nameLocation":"1745:3:50","nodeType":"VariableDeclaration","scope":48519,"src":"1731:17:50","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":48477,"name":"string","nodeType":"ElementaryTypeName","src":"1731:6:50","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"1730:19:50"},"returnParameters":{"id":48483,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48482,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":48519,"src":"1773:11:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"},"typeName":{"id":48481,"nodeType":"UserDefinedTypeName","pathNode":{"id":48480,"name":"ShortString","nameLocations":["1773:11:50"],"nodeType":"IdentifierPath","referencedDeclaration":48465,"src":"1773:11:50"},"referencedDeclaration":48465,"src":"1773:11:50","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"}},"visibility":"internal"}],"src":"1772:13:50"},"scope":48676,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":48545,"nodeType":"FunctionDefinition","src":"2078:405:50","nodes":[],"body":{"id":48544,"nodeType":"Block","src":"2152:331:50","nodes":[],"statements":[{"assignments":[48529],"declarations":[{"constant":false,"id":48529,"mutability":"mutable","name":"len","nameLocation":"2170:3:50","nodeType":"VariableDeclaration","scope":48544,"src":"2162:11:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48528,"name":"uint256","nodeType":"ElementaryTypeName","src":"2162:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48533,"initialValue":{"arguments":[{"id":48531,"name":"sstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48523,"src":"2187:4:50","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"}],"id":48530,"name":"byteLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48577,"src":"2176:10:50","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ShortString_$48465_$returns$_t_uint256_$","typeString":"function (ShortString) pure returns (uint256)"}},"id":48532,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2176:16:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2162:30:50"},{"assignments":[48535],"declarations":[{"constant":false,"id":48535,"mutability":"mutable","name":"str","nameLocation":"2294:3:50","nodeType":"VariableDeclaration","scope":48544,"src":"2280:17:50","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":48534,"name":"string","nodeType":"ElementaryTypeName","src":"2280:6:50","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"id":48540,"initialValue":{"arguments":[{"hexValue":"3332","id":48538,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2311:2:50","typeDescriptions":{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"},"value":"32"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"}],"id":48537,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"2300:10:50","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_string_memory_ptr_$","typeString":"function (uint256) pure returns (string memory)"},"typeName":{"id":48536,"name":"string","nodeType":"ElementaryTypeName","src":"2304:6:50","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}}},"id":48539,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2300:14:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"nodeType":"VariableDeclarationStatement","src":"2280:34:50"},{"AST":{"nativeSrc":"2376:81:50","nodeType":"YulBlock","src":"2376:81:50","statements":[{"expression":{"arguments":[{"name":"str","nativeSrc":"2397:3:50","nodeType":"YulIdentifier","src":"2397:3:50"},{"name":"len","nativeSrc":"2402:3:50","nodeType":"YulIdentifier","src":"2402:3:50"}],"functionName":{"name":"mstore","nativeSrc":"2390:6:50","nodeType":"YulIdentifier","src":"2390:6:50"},"nativeSrc":"2390:16:50","nodeType":"YulFunctionCall","src":"2390:16:50"},"nativeSrc":"2390:16:50","nodeType":"YulExpressionStatement","src":"2390:16:50"},{"expression":{"arguments":[{"arguments":[{"name":"str","nativeSrc":"2430:3:50","nodeType":"YulIdentifier","src":"2430:3:50"},{"kind":"number","nativeSrc":"2435:4:50","nodeType":"YulLiteral","src":"2435:4:50","type":"","value":"0x20"}],"functionName":{"name":"add","nativeSrc":"2426:3:50","nodeType":"YulIdentifier","src":"2426:3:50"},"nativeSrc":"2426:14:50","nodeType":"YulFunctionCall","src":"2426:14:50"},{"name":"sstr","nativeSrc":"2442:4:50","nodeType":"YulIdentifier","src":"2442:4:50"}],"functionName":{"name":"mstore","nativeSrc":"2419:6:50","nodeType":"YulIdentifier","src":"2419:6:50"},"nativeSrc":"2419:28:50","nodeType":"YulFunctionCall","src":"2419:28:50"},"nativeSrc":"2419:28:50","nodeType":"YulExpressionStatement","src":"2419:28:50"}]},"documentation":"@solidity memory-safe-assembly","evmVersion":"paris","externalReferences":[{"declaration":48529,"isOffset":false,"isSlot":false,"src":"2402:3:50","valueSize":1},{"declaration":48523,"isOffset":false,"isSlot":false,"src":"2442:4:50","valueSize":1},{"declaration":48535,"isOffset":false,"isSlot":false,"src":"2397:3:50","valueSize":1},{"declaration":48535,"isOffset":false,"isSlot":false,"src":"2430:3:50","valueSize":1}],"id":48541,"nodeType":"InlineAssembly","src":"2367:90:50"},{"expression":{"id":48542,"name":"str","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48535,"src":"2473:3:50","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"functionReturnParameters":48527,"id":48543,"nodeType":"Return","src":"2466:10:50"}]},"documentation":{"id":48520,"nodeType":"StructuredDocumentation","src":"2000:73:50","text":" @dev Decode a `ShortString` back to a \"normal\" string."},"implemented":true,"kind":"function","modifiers":[],"name":"toString","nameLocation":"2087:8:50","parameters":{"id":48524,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48523,"mutability":"mutable","name":"sstr","nameLocation":"2108:4:50","nodeType":"VariableDeclaration","scope":48545,"src":"2096:16:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"},"typeName":{"id":48522,"nodeType":"UserDefinedTypeName","pathNode":{"id":48521,"name":"ShortString","nameLocations":["2096:11:50"],"nodeType":"IdentifierPath","referencedDeclaration":48465,"src":"2096:11:50"},"referencedDeclaration":48465,"src":"2096:11:50","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"}},"visibility":"internal"}],"src":"2095:18:50"},"returnParameters":{"id":48527,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48526,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":48545,"src":"2137:13:50","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":48525,"name":"string","nodeType":"ElementaryTypeName","src":"2137:6:50","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"2136:15:50"},"scope":48676,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":48577,"nodeType":"FunctionDefinition","src":"2555:245:50","nodes":[],"body":{"id":48576,"nodeType":"Block","src":"2625:175:50","nodes":[],"statements":[{"assignments":[48555],"declarations":[{"constant":false,"id":48555,"mutability":"mutable","name":"result","nameLocation":"2643:6:50","nodeType":"VariableDeclaration","scope":48576,"src":"2635:14:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48554,"name":"uint256","nodeType":"ElementaryTypeName","src":"2635:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48565,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48564,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":48560,"name":"sstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48549,"src":"2679:4:50","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"}],"expression":{"id":48558,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48465,"src":"2660:11:50","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$48465_$","typeString":"type(ShortString)"}},"id":48559,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2672:6:50","memberName":"unwrap","nodeType":"MemberAccess","src":"2660:18:50","typeDescriptions":{"typeIdentifier":"t_function_unwrap_pure$_t_userDefinedValueType$_ShortString_$48465_$returns$_t_bytes32_$","typeString":"function (ShortString) pure returns (bytes32)"}},"id":48561,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2660:24:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":48557,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2652:7:50","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":48556,"name":"uint256","nodeType":"ElementaryTypeName","src":"2652:7:50","typeDescriptions":{}}},"id":48562,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2652:33:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"&","rightExpression":{"hexValue":"30784646","id":48563,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2688:4:50","typeDescriptions":{"typeIdentifier":"t_rational_255_by_1","typeString":"int_const 255"},"value":"0xFF"},"src":"2652:40:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2635:57:50"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48568,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48566,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48555,"src":"2706:6:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"3331","id":48567,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2715:2:50","typeDescriptions":{"typeIdentifier":"t_rational_31_by_1","typeString":"int_const 31"},"value":"31"},"src":"2706:11:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48573,"nodeType":"IfStatement","src":"2702:69:50","trueBody":{"id":48572,"nodeType":"Block","src":"2719:52:50","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":48569,"name":"InvalidShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48475,"src":"2740:18:50","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":48570,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2740:20:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48571,"nodeType":"RevertStatement","src":"2733:27:50"}]}},{"expression":{"id":48574,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48555,"src":"2787:6:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":48553,"id":48575,"nodeType":"Return","src":"2780:13:50"}]},"documentation":{"id":48546,"nodeType":"StructuredDocumentation","src":"2489:61:50","text":" @dev Return the length of a `ShortString`."},"implemented":true,"kind":"function","modifiers":[],"name":"byteLength","nameLocation":"2564:10:50","parameters":{"id":48550,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48549,"mutability":"mutable","name":"sstr","nameLocation":"2587:4:50","nodeType":"VariableDeclaration","scope":48577,"src":"2575:16:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"},"typeName":{"id":48548,"nodeType":"UserDefinedTypeName","pathNode":{"id":48547,"name":"ShortString","nameLocations":["2575:11:50"],"nodeType":"IdentifierPath","referencedDeclaration":48465,"src":"2575:11:50"},"referencedDeclaration":48465,"src":"2575:11:50","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"}},"visibility":"internal"}],"src":"2574:18:50"},"returnParameters":{"id":48553,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48552,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":48577,"src":"2616:7:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48551,"name":"uint256","nodeType":"ElementaryTypeName","src":"2616:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2615:9:50"},"scope":48676,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":48617,"nodeType":"FunctionDefinition","src":"2914:340:50","nodes":[],"body":{"id":48616,"nodeType":"Block","src":"3023:231:50","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48594,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"arguments":[{"id":48590,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48580,"src":"3043:5:50","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":48589,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3037:5:50","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":48588,"name":"bytes","nodeType":"ElementaryTypeName","src":"3037:5:50","typeDescriptions":{}}},"id":48591,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3037:12:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":48592,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3050:6:50","memberName":"length","nodeType":"MemberAccess","src":"3037:19:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"3332","id":48593,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3059:2:50","typeDescriptions":{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"},"value":"32"},"src":"3037:24:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":48614,"nodeType":"Block","src":"3121:127:50","statements":[{"expression":{"id":48607,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"arguments":[{"id":48603,"name":"store","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48582,"src":"3161:5:50","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}],"expression":{"id":48600,"name":"StorageSlot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48786,"src":"3135:11:50","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_StorageSlot_$48786_$","typeString":"type(library StorageSlot)"}},"id":48602,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3147:13:50","memberName":"getStringSlot","nodeType":"MemberAccess","referencedDeclaration":48763,"src":"3135:25:50","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_string_storage_ptr_$returns$_t_struct$_StringSlot_$48694_storage_ptr_$","typeString":"function (string storage pointer) pure returns (struct StorageSlot.StringSlot storage pointer)"}},"id":48604,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3135:32:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_StringSlot_$48694_storage_ptr","typeString":"struct StorageSlot.StringSlot storage pointer"}},"id":48605,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"3168:5:50","memberName":"value","nodeType":"MemberAccess","referencedDeclaration":48693,"src":"3135:38:50","typeDescriptions":{"typeIdentifier":"t_string_storage","typeString":"string storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":48606,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48580,"src":"3176:5:50","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"src":"3135:46:50","typeDescriptions":{"typeIdentifier":"t_string_storage","typeString":"string storage ref"}},"id":48608,"nodeType":"ExpressionStatement","src":"3135:46:50"},{"expression":{"arguments":[{"id":48611,"name":"FALLBACK_SENTINEL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48469,"src":"3219:17:50","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":48609,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48465,"src":"3202:11:50","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$48465_$","typeString":"type(ShortString)"}},"id":48610,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3214:4:50","memberName":"wrap","nodeType":"MemberAccess","src":"3202:16:50","typeDescriptions":{"typeIdentifier":"t_function_wrap_pure$_t_bytes32_$returns$_t_userDefinedValueType$_ShortString_$48465_$","typeString":"function (bytes32) pure returns (ShortString)"}},"id":48612,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3202:35:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"}},"functionReturnParameters":48587,"id":48613,"nodeType":"Return","src":"3195:42:50"}]},"id":48615,"nodeType":"IfStatement","src":"3033:215:50","trueBody":{"id":48599,"nodeType":"Block","src":"3063:52:50","statements":[{"expression":{"arguments":[{"id":48596,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48580,"src":"3098:5:50","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":48595,"name":"toShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48519,"src":"3084:13:50","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_string_memory_ptr_$returns$_t_userDefinedValueType$_ShortString_$48465_$","typeString":"function (string memory) pure returns (ShortString)"}},"id":48597,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3084:20:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"}},"functionReturnParameters":48587,"id":48598,"nodeType":"Return","src":"3077:27:50"}]}}]},"documentation":{"id":48578,"nodeType":"StructuredDocumentation","src":"2806:103:50","text":" @dev Encode a string into a `ShortString`, or write it to storage if it is too long."},"implemented":true,"kind":"function","modifiers":[],"name":"toShortStringWithFallback","nameLocation":"2923:25:50","parameters":{"id":48583,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48580,"mutability":"mutable","name":"value","nameLocation":"2963:5:50","nodeType":"VariableDeclaration","scope":48617,"src":"2949:19:50","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":48579,"name":"string","nodeType":"ElementaryTypeName","src":"2949:6:50","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"},{"constant":false,"id":48582,"mutability":"mutable","name":"store","nameLocation":"2985:5:50","nodeType":"VariableDeclaration","scope":48617,"src":"2970:20:50","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":48581,"name":"string","nodeType":"ElementaryTypeName","src":"2970:6:50","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"2948:43:50"},"returnParameters":{"id":48587,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48586,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":48617,"src":"3010:11:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"},"typeName":{"id":48585,"nodeType":"UserDefinedTypeName","pathNode":{"id":48584,"name":"ShortString","nameLocations":["3010:11:50"],"nodeType":"IdentifierPath","referencedDeclaration":48465,"src":"3010:11:50"},"referencedDeclaration":48465,"src":"3010:11:50","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"}},"visibility":"internal"}],"src":"3009:13:50"},"scope":48676,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":48644,"nodeType":"FunctionDefinition","src":"3385:267:50","nodes":[],"body":{"id":48643,"nodeType":"Block","src":"3494:158:50","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":48633,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":48630,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48621,"src":"3527:5:50","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"}],"expression":{"id":48628,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48465,"src":"3508:11:50","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$48465_$","typeString":"type(ShortString)"}},"id":48629,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3520:6:50","memberName":"unwrap","nodeType":"MemberAccess","src":"3508:18:50","typeDescriptions":{"typeIdentifier":"t_function_unwrap_pure$_t_userDefinedValueType$_ShortString_$48465_$returns$_t_bytes32_$","typeString":"function (ShortString) pure returns (bytes32)"}},"id":48631,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3508:25:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":48632,"name":"FALLBACK_SENTINEL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48469,"src":"3537:17:50","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"3508:46:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":48641,"nodeType":"Block","src":"3609:37:50","statements":[{"expression":{"id":48639,"name":"store","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48623,"src":"3630:5:50","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}},"functionReturnParameters":48627,"id":48640,"nodeType":"Return","src":"3623:12:50"}]},"id":48642,"nodeType":"IfStatement","src":"3504:142:50","trueBody":{"id":48638,"nodeType":"Block","src":"3556:47:50","statements":[{"expression":{"arguments":[{"id":48635,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48621,"src":"3586:5:50","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"}],"id":48634,"name":"toString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48545,"src":"3577:8:50","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ShortString_$48465_$returns$_t_string_memory_ptr_$","typeString":"function (ShortString) pure returns (string memory)"}},"id":48636,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3577:15:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"functionReturnParameters":48627,"id":48637,"nodeType":"Return","src":"3570:22:50"}]}}]},"documentation":{"id":48618,"nodeType":"StructuredDocumentation","src":"3260:120:50","text":" @dev Decode a string that was encoded to `ShortString` or written to storage using {setWithFallback}."},"implemented":true,"kind":"function","modifiers":[],"name":"toStringWithFallback","nameLocation":"3394:20:50","parameters":{"id":48624,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48621,"mutability":"mutable","name":"value","nameLocation":"3427:5:50","nodeType":"VariableDeclaration","scope":48644,"src":"3415:17:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"},"typeName":{"id":48620,"nodeType":"UserDefinedTypeName","pathNode":{"id":48619,"name":"ShortString","nameLocations":["3415:11:50"],"nodeType":"IdentifierPath","referencedDeclaration":48465,"src":"3415:11:50"},"referencedDeclaration":48465,"src":"3415:11:50","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"}},"visibility":"internal"},{"constant":false,"id":48623,"mutability":"mutable","name":"store","nameLocation":"3449:5:50","nodeType":"VariableDeclaration","scope":48644,"src":"3434:20:50","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":48622,"name":"string","nodeType":"ElementaryTypeName","src":"3434:6:50","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"3414:41:50"},"returnParameters":{"id":48627,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48626,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":48644,"src":"3479:13:50","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":48625,"name":"string","nodeType":"ElementaryTypeName","src":"3479:6:50","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"3478:15:50"},"scope":48676,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":48675,"nodeType":"FunctionDefinition","src":"4027:279:50","nodes":[],"body":{"id":48674,"nodeType":"Block","src":"4132:174:50","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":48660,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":48657,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48648,"src":"4165:5:50","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"}],"expression":{"id":48655,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48465,"src":"4146:11:50","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$48465_$","typeString":"type(ShortString)"}},"id":48656,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4158:6:50","memberName":"unwrap","nodeType":"MemberAccess","src":"4146:18:50","typeDescriptions":{"typeIdentifier":"t_function_unwrap_pure$_t_userDefinedValueType$_ShortString_$48465_$returns$_t_bytes32_$","typeString":"function (ShortString) pure returns (bytes32)"}},"id":48658,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4146:25:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":48659,"name":"FALLBACK_SENTINEL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48469,"src":"4175:17:50","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"4146:46:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":48672,"nodeType":"Block","src":"4249:51:50","statements":[{"expression":{"expression":{"arguments":[{"id":48668,"name":"store","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48650,"src":"4276:5:50","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}],"id":48667,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4270:5:50","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":48666,"name":"bytes","nodeType":"ElementaryTypeName","src":"4270:5:50","typeDescriptions":{}}},"id":48669,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4270:12:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes storage pointer"}},"id":48670,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4283:6:50","memberName":"length","nodeType":"MemberAccess","src":"4270:19:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":48654,"id":48671,"nodeType":"Return","src":"4263:26:50"}]},"id":48673,"nodeType":"IfStatement","src":"4142:158:50","trueBody":{"id":48665,"nodeType":"Block","src":"4194:49:50","statements":[{"expression":{"arguments":[{"id":48662,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48648,"src":"4226:5:50","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"}],"id":48661,"name":"byteLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48577,"src":"4215:10:50","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ShortString_$48465_$returns$_t_uint256_$","typeString":"function (ShortString) pure returns (uint256)"}},"id":48663,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4215:17:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":48654,"id":48664,"nodeType":"Return","src":"4208:24:50"}]}}]},"documentation":{"id":48645,"nodeType":"StructuredDocumentation","src":"3658:364:50","text":" @dev Return the length of a string that was encoded to `ShortString` or written to storage using\n {setWithFallback}.\n WARNING: This will return the \"byte length\" of the string. This may not reflect the actual length in terms of\n actual characters as the UTF-8 encoding of a single character can span over multiple bytes."},"implemented":true,"kind":"function","modifiers":[],"name":"byteLengthWithFallback","nameLocation":"4036:22:50","parameters":{"id":48651,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48648,"mutability":"mutable","name":"value","nameLocation":"4071:5:50","nodeType":"VariableDeclaration","scope":48675,"src":"4059:17:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"},"typeName":{"id":48647,"nodeType":"UserDefinedTypeName","pathNode":{"id":48646,"name":"ShortString","nameLocations":["4059:11:50"],"nodeType":"IdentifierPath","referencedDeclaration":48465,"src":"4059:11:50"},"referencedDeclaration":48465,"src":"4059:11:50","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$48465","typeString":"ShortString"}},"visibility":"internal"},{"constant":false,"id":48650,"mutability":"mutable","name":"store","nameLocation":"4093:5:50","nodeType":"VariableDeclaration","scope":48675,"src":"4078:20:50","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":48649,"name":"string","nodeType":"ElementaryTypeName","src":"4078:6:50","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"4058:41:50"},"returnParameters":{"id":48654,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48653,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":48675,"src":"4123:7:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48652,"name":"uint256","nodeType":"ElementaryTypeName","src":"4123:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4122:9:50"},"scope":48676,"stateMutability":"view","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"ShortStrings","contractDependencies":[],"contractKind":"library","documentation":{"id":48466,"nodeType":"StructuredDocumentation","src":"378:876:50","text":" @dev This library provides functions to convert short memory strings\n into a `ShortString` type that can be used as an immutable variable.\n Strings of arbitrary length can be optimized using this library if\n they are short enough (up to 31 bytes) by packing them with their\n length (1 byte) in a single EVM word (32 bytes). Additionally, a\n fallback mechanism can be used for every other case.\n Usage example:\n ```solidity\n contract Named {\n     using ShortStrings for *;\n     ShortString private immutable _name;\n     string private _nameFallback;\n     constructor(string memory contractName) {\n         _name = contractName.toShortStringWithFallback(_nameFallback);\n     }\n     function name() external view returns (string memory) {\n         return _name.toStringWithFallback(_nameFallback);\n     }\n }\n ```"},"fullyImplemented":true,"linearizedBaseContracts":[48676],"name":"ShortStrings","nameLocation":"1263:12:50","scope":48677,"usedErrors":[48473,48475],"usedEvents":[]}],"license":"MIT"},"id":50}